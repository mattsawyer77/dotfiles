# remap prefix to Control + space
unbind C-b
set -g prefix C-Space
set -g base-index 1
bind Space send-prefix
bind-key j command-prompt -p "join pane from:"  "join-pane -hs '%%'"
bind-key s choose-tree
bind-key b break-pane
bind-key c command-prompt -p "new window name:" "new-window -n '%%'"
bind-key BSpace send-keys " clear && tmux clear-history" \; send-keys "Enter"
bind-key -n S-Up set-option -g status on
bind-key -n S-Down set-option -g status off
bind-key -n S-Left previous-window
bind-key -n S-Right next-window
bind-key f3 next-layout

set -g default-terminal "tmux-256color"
set-option -ga terminal-overrides ",xterm-256color:Tc"
set -g automatic-rename off
set -g focus-events on
set -g -q mode-mouse on
set -g -q mouse-resize-pane on
set -g -q mouse on
bind -n WheelUpPane if-shell -F -t = "#{mouse_any_flag}" "send-keys -M" "if -Ft= '#{pane_in_mode}' 'send-keys -M' 'copy-mode -e'"
set -g history-limit 50000
set -g escape-time 10
setw -g aggressive-resize on

# set pane colors - hilight the active pane
set -g pane-border-fg colour235 #base02
set -g pane-active-border-fg colour240 #base01
set -g pane-border-bg black
set -g pane-active-border-bg black

# colorize messages in the command line
set -g message-bg black
set -g message-fg green

# ----------------------
# Status Bar
# -----------------------
set -g status on                       # turn the status bar on
# set -g status-utf8 on                  # set utf-8 for the status bar
set -g status-interval 30              # set update frequencey (default 15 seconds)
set -g status-justify left             # center window list for clarity

set -g status-bg colour235
set -g status-fg yellow #yellow
set-window-option -g window-status-format "  #{window_index}|#{window_name}  "
set-window-option -g window-status-fg "#888899"
set-window-option -g window-status-bg "#444455"
set-window-option -g window-status-last-fg "#888899"
set-window-option -g window-status-last-bg "#444455"
set-window-option -g window-status-last-style ""
set-window-option -g window-status-current-format "  #{window_index}|#{window_name}  "
set-window-option -g window-status-current-fg "#ccccdd"
set-window-option -g window-status-current-bg "#888899"

set -g status-bg "#555566"
set -g status-left-length 70
set -g status-left "#[bg=#336688]#[fg=brightwhite] #h #[bg=#113355]#[fg=brightwhite]#{?client_prefix,#[bg=green],} #S "

set -g status-right-length 60
set -g status-right "#[bg=#444455]#[fg=#bbbbcc] %H:%M "

if-shell 'test "$(uname)" = "Darwin"' "source-file ~/.tmux-osx.conf"
